<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Stephan Brosinski">
  <title>Uberdoc</title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="style/jqtree.css"/>
  <link rel="stylesheet" href="style/default.css" type="text/css" />
   <script src="style/jquery-1.10.2.min.js"></script>
   <script src="style/tree.jquery.js"></script>
   <script src="style/default.js"></script>
</head>
<body>
<div class="nav">
<h1>Contents</h1>
<div class="navtools">
  <a href="#" id="nt-all"> + </a>|<a href="#" id="nt-none"> - </a>|<a href="#" id="nt-l1"> 1 </a>|<a href="#" id="nt-l2"> 2 </a>|<a href="#" id="nt-l3"> 3 </a>
</div>
<div class="navtree"></div>
</div>
<header>
<h1 class="title">Uberdoc</h1>
<h2 class="author">Stephan Brosinski</h2>

<h3 class="date">2013-11-22 (fe88fa1)</h3>

</header>
<h1 id="uberdoc">Uberdoc</h1>
<p>Uberdoc is a wrapper script for <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> which provides a build system to turn a number of e.g. markdown files into large documents.</p>
<p>I use it to write technical documents. Default output is HTML. Optionally it generates a nicely formatted PDF using LaTex.</p>
<p>The provided default templates are just a starting point. These should be personalized for custom, e.g. client specific documents.</p>
<h2 id="directory-layout">Directory Layout</h2>
<p>Uberdoc uses the following directory layout for your document.</p>
<pre><code>in                      --&gt; contains the document&#39;s chapters
    chapter1
        img             --&gt; optional image files for this chapter
        chapter1.md     --&gt; markdown content for this chapter
    chapter2
        chapter2.md
    toc.txt             --&gt; reference of all chapters and their order

styles                  --&gt; optional css styles etc.
templates               --&gt; optional html and latex templates (for PDF conversion)

out                     --&gt; your doc ends up here</code></pre>
<h2 id="usage">Usage</h2>
<p>Initializing a new dir for uberdoc, this creates a sample document and config file</p>
<pre><code>$ udoc init
Copying default config file ...
Creating dir structure and sample chapters ...</code></pre>
<p>Create a git repo for current document, provide an initial gitignore and commit</p>
<pre><code>$ udoc git
Initializing git repo in current dir and adding files ...
git init
git add .gitignore
git add in
git add uberdoc.cfg
git commit -m &quot;setup uberdoc document&quot;</code></pre>
<p>Create document, use -p for PDF output in addition to HTML</p>
<pre><code>$ udoc build
Check environment ...
Cleaning ...
Parse toc ...
Copy dependencies ...
Generating document ...
Done ...</code></pre>
<p>Open new document in browser or PDF viewer</p>
<pre><code>$ udoc show</code></pre>
<p>If you want to customize the default HTML/Latex templates or CSS styles, run this command to create a copy of the default templates for your document. Then edit the files in ./templates or ./style.</p>
<pre><code>$ udoc customize
Creating templates ...
Creating styles ...</code></pre>
<p>This scans the document's toc.txt table of contents file, shows which chapter directories exist in in the document dir, creates new chapter dirs and offers (with --delete) to remove chapters which are not in the table of contents anymore:</p>
<pre><code>$ udoc outline
Exists: chapter1 -&gt; ./in/chapter1/chapter1.md
Exists: chapter2 -&gt; ./in/chapter2/chapter2.md
Exists: chapter3 -&gt; ./in/chapter3/chapter3.md
Creating: chapter4 -&gt; ./in/chapter4/chapter4.md

$ udoc outline --delete
Exists: chapter1 -&gt; ./in/chapter1/chapter1.md
Exists: chapter3 -&gt; ./in/chapter3/chapter3.md
Exists: chapter4 -&gt; ./in/chapter4/chapter4.md
Missing: chapter2 -&gt; ./in/chapter2/chapter2.md
Remove chapter2? (y/N):</code></pre>
<p>You can place a # in front of a TOC entry to disable a chapter or a ! to force Uberdoc to only consider this chapter. This way you can for example only build a subset of your document, or, using the outline command easily remove certain chapters.</p>
<p>If Pandoc or Uberdoc throw errors, run this command to check if your document setup is okay.</p>
<pre><code>$ udoc check
Loading config: uberdoc.cfg
Config settings:
  doc_dir = .
  in_dir = in
  out_dir = out
  img_dir = img
  style_dir = style
  toc_filename = toc.txt
  doc_filename = concept
  input_ext = .md
  pandoc_cmd = pandoc
  pandoc_options_html = -s --default-image-extension=png --template=../templates/default.html
  pandoc_options_pdf = -s --default-image-extension=pdf --template=../templates/default.tex --toc --number-sections -V &quot;geometry:top=2cm, bottom=3cm, left=2.5cm, right=2cm&quot;
Document version: 2013-10-10 (dc89484)
Environment setup ok.</code></pre>
<h2 id="tips">Tips</h2>
<ul>
<li>Uberdoc creates a VERSION variable containing the documents current git hash which can be used in your HTML or Latex templates</li>
<li>You can place a # in front of a TOC entry to disable a chapter or a ! to force Uberdoc to only consider this chapter</li>
<li>By using --default-image-extension as a Pandoc config option Pandoc will for example use PNGs for HTML and PDFs for PDF documents without you having to change the image links in your markdown, see the sample doc</li>
</ul>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Python 2.6, 2.8. or 3 on MacOS or Linux (Windows should work, but no guarantees)</li>
<li>a recent version of <a href="http://johnmacfarlane.net/pandoc/">Pandoc</a> (newer than 1.9)</li>
<li>git</li>
<li>LaTex if you want to create PDF documents, please take a look at <a href="http://johnmacfarlane.net/pandoc/installing.html">Pandoc's instructions</a></li>
<li>Depending on the LaTex template use, you may have to use the LaTex distribution's package manager to install additional LaTex packages.</li>
</ul>
<h2 id="installation">Installation</h2>
<p>The easiest way would be <a href="https://pypi.python.org/pypi/pip">pip</a>:</p>
<pre><code>pip install uberdoc</code></pre>
<p>You can also clone this repository and run</p>
<pre><code>python setup.py install</code></pre>
<h2 id="configuration">Configuration</h2>
<p>You may change <em>uberdoc.cfg</em> as follows:</p>
<pre><code>[DEFAULT]

# dir for chapter content
in_dir = src

# build output dir
out_dir = out

# chapter image folder name
img_dir = img

# dir for css styles
style_dir = style

# file name of table of contents file
toc_filename =toc.txt

# base name for resulting document
doc_filename = concept

# extension for chapter files, default is Markdown
input_ext = .md

# pandoc command, needs to be in path
pandoc_cmd = pandoc

# pandoc conversion options for html
pandoc_options_html = -s --template=../templates/default.html

# pandoc conversions options for pdf
pandoc_options_pdf =  -s --template=../templates/default.tex --toc --number-sections -V geometry:&quot;top=2cm, bottom=3cm, left=2.5cm, right=2cm&quot;</code></pre>
<h2 id="contributing">Contributing</h2>
<p>Uberdoc uses <a href="http://nose.readthedocs.org/en/latest/">nose</a> for testing and <a href="http://testrun.org/tox/latest/">tox</a> to run tests for different Python versions.</p>
<p>Just run either</p>
<pre><code>$ nosetests

$ tox</code></pre>
<h3 id="ideas-for-improvement">Ideas for improvement</h3>
<ul>
<li>A markdown pre-processor which supports plugins so you can easly extends the existing markdown syntax or change document content when generating the document</li>
<li>Support for epub generation, so large documents can be better read on mobile devices</li>
<li>Diff-View, generate a version of the document showing the differences to a former version</li>
</ul>
<p><em>Now start writing and stop messing with your tools!</em></p>
<h1 id="extending-the-markdown-syntax">Extending the Markdown Syntax</h1>
<p>Uberdoc uses a templating engine to allow user to extend the markdown syntax used in its chapter files.</p>
<h2 id="predefined-variables">Predefined Variables</h2>
<p>The following variables are provided by Uberdoc and can be used in markdown files by e.g. adding</p>
<pre><code>{{udoc.doc_version}}</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">md_file</td>
<td align="left">templating/templating.md</td>
</tr>
<tr class="even">
<td align="left">version</td>
<td align="left">1.2.2</td>
</tr>
<tr class="odd">
<td align="left">doc_version</td>
<td align="left">2013-11-22 (fe88fa1)</td>
</tr>
</tbody>
</table>
<h2 id="custom-variables">Custom Variables</h2>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">doc_dir</td>
<td align="left">.</td>
</tr>
<tr class="even">
<td align="left">b</td>
<td align="left">c</td>
</tr>
</tbody>
</table>
<h2 id="macros">Macros</h2>
<p>Defining a macro in your markdown document:</p>
<pre><code>{% macro todo(description) -%}
&gt; *TODO:* {{description}}
{%- endmacro %}</code></pre>
<p>Calling the TODO macro:</p>
<pre><code>{{todo(&#39;this needs to be rewritten!&#39;)}}</code></pre>
<p>results in:</p>
<blockquote>
<p><em>TODO:</em> this needs to be rewritten!</p>
</blockquote>
<h2 id="filters">Filters</h2>
<p>Or using filters:</p>
<pre><code>{% filter upper %}
This text becomes uppercase
{% endfilter %}</code></pre>
<p>THIS TEXT BECOMES UPPERCASE</p>
<h2 id="includes">Includes</h2>
<p>Or including other markdown files:</p>
<pre><code>{% include &#39;templating/some.md&#39; %}</code></pre>
<p><strong>This is a seperate markdown file <em>some.md</em> being included by the Templating Demo chapter</strong></p>
</body>
</html>